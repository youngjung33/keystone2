// This file is automatically generated by Keystone, do not modify it manually.
// Modify your Keystone config when you want to change this.

datasource sqlite {
  url               = env("DATABASE_URL")
  shadowDatabaseUrl = env("SHADOW_DATABASE_URL")
  provider          = "sqlite"
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id                                     String                 @id @default(cuid())
  user_id                                String                 @unique @default("")
  pw                                     String
  name                                   String                 @default("")
  contact                                String                 @unique @default("")
  company                                String                 @default("")
  workplace                              String                 @default("")
  position                               String                 @default("")
  email                                  String                 @unique @default("")
  nickname                               String                 @unique @default("")
  profilepic_filesize                    Int?
  profilepic_extension                   String?
  profilepic_width                       Int?
  profilepic_height                      Int?
  profilepic_id                          String?
  from_equipmentRequestInfo_requested_by equipmentRequestInfo[] @relation("equipmentRequestInfo_requested_by")
}

model equipmentRequestInfo {
  id                 String                 @id @default(cuid())
  request_eq_date    DateTime               @default(now())
  request_eq_state   String                 @default("신청")
  request_eq_address String                 @default("")
  requested_by       User?                  @relation("equipmentRequestInfo_requested_by", fields: [requested_byId], references: [id])
  requested_byId     String?                @map("requested_by")
  request_items      EquipmentRequestItem[] @relation("equipmentRequestInfo_request_items")

  @@index([requested_byId])
}

model Equipment {
  id                                       String                 @id @default(cuid())
  equipment_name                           String                 @default("")
  equipment_description                    String                 @default("")
  equipment_max_quantity                   Int
  from_EquipmentRequestItem_equipment_item EquipmentRequestItem[] @relation("EquipmentRequestItem_equipment_item")
}

model EquipmentRequestItem {
  id                                      String                 @id @default(cuid())
  equipment_item                          Equipment?             @relation("EquipmentRequestItem_equipment_item", fields: [equipment_itemId], references: [id])
  equipment_itemId                        String?                @map("equipment_item")
  requested_count                         Int
  from_equipmentRequestInfo_request_items equipmentRequestInfo[] @relation("equipmentRequestInfo_request_items")

  @@index([equipment_itemId])
}
